(()=>{var o,n={500:(o,n)=>{var a;!function(){"use strict";var e={}.hasOwnProperty;function t(){for(var o="",n=0;n<arguments.length;n++){var a=arguments[n];a&&(o=s(o,i(a)))}return o}function i(o){if("string"==typeof o||"number"==typeof o)return o;if("object"!=typeof o)return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var n="";for(var a in o)e.call(o,a)&&o[a]&&(n=s(n,a));return n}function s(o,n){return n?o?o+" "+n:o+n:o}o.exports?(t.default=t,o.exports=t):void 0===(a=function(){return t}.apply(n,[]))||(o.exports=a)}()},955:(o,n,a)=>{"use strict";const e=window.wp.domReady;var t=a.n(e);window.React;const i=window.wp.hooks,s=window.wp.blocks,l=window.wp.compose,r=window.wp.i18n,c=window.wp.element,m=window.wp.blockEditor,u=window.wp.components,d=window.wp.data,b=window.wp.notices,f=window.wp.keycodes,_=window.wp.primitives,h=window.ReactJSXRuntime,p=(0,h.jsx)(_.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,h.jsx)(_.Path,{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"})}),k=(0,h.jsxs)(_.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,h.jsx)(_.Path,{d:"m7 6.5 4 2.5-4 2.5z"}),(0,h.jsx)(_.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"m5 3c-1.10457 0-2 .89543-2 2v14c0 1.1046.89543 2 2 2h14c1.1046 0 2-.8954 2-2v-14c0-1.10457-.8954-2-2-2zm14 1.5h-14c-.27614 0-.5.22386-.5.5v10.7072l3.62953-2.6465c.25108-.1831.58905-.1924.84981-.0234l2.92666 1.8969 3.5712-3.4719c.2911-.2831.7545-.2831 1.0456 0l2.9772 2.8945v-9.3568c0-.27614-.2239-.5-.5-.5zm-14.5 14.5v-1.4364l4.09643-2.987 2.99567 1.9417c.2936.1903.6798.1523.9307-.0917l3.4772-3.3806 3.4772 3.3806.0228-.0234v2.5968c0 .2761-.2239.5-.5.5h-14c-.27614 0-.5-.2239-.5-.5z"})]}),v=(0,h.jsx)(_.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,h.jsx)(_.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M5 4.5h11a.5.5 0 0 1 .5.5v11a.5.5 0 0 1-.5.5H5a.5.5 0 0 1-.5-.5V5a.5.5 0 0 1 .5-.5ZM3 5a2 2 0 0 1 2-2h11a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5Zm17 3v10.75c0 .69-.56 1.25-1.25 1.25H6v1.5h12.75a2.75 2.75 0 0 0 2.75-2.75V8H20Z"})}),g=(0,h.jsx)(_.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsx)(_.Path,{d:"M16 4.2v1.5h2.5v12.5H16v1.5h4V4.2h-4zM4.2 19.8h4v-1.5H5.8V5.8h2.5V4.2h-4l-.1 15.6zm5.1-3.1l1.4.6 4-10-1.4-.6-4 10z"})}),w=(0,h.jsx)(_.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,h.jsx)(_.Path,{d:"M12 4.75a7.25 7.25 0 100 14.5 7.25 7.25 0 000-14.5zM3.25 12a8.75 8.75 0 1117.5 0 8.75 8.75 0 01-17.5 0zM12 8.75a1.5 1.5 0 01.167 2.99c-.465.052-.917.44-.917 1.01V14h1.5v-.845A3 3 0 109 10.25h1.5a1.5 1.5 0 011.5-1.5zM11.25 15v1.5h1.5V15h-1.5z"})}),x=(0,h.jsxs)(_.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,h.jsx)(_.Path,{d:"m19 7.5h-7.628c-.3089-.87389-1.1423-1.5-2.122-1.5-.97966 0-1.81309.62611-2.12197 1.5h-2.12803v1.5h2.12803c.30888.87389 1.14231 1.5 2.12197 1.5.9797 0 1.8131-.62611 2.122-1.5h7.628z"}),(0,h.jsx)(_.Path,{d:"m19 15h-2.128c-.3089-.8739-1.1423-1.5-2.122-1.5s-1.8131.6261-2.122 1.5h-7.628v1.5h7.628c.3089.8739 1.1423 1.5 2.122 1.5s1.8131-.6261 2.122-1.5h2.128z"})]}),j=(0,h.jsx)(_.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,h.jsx)(_.Path,{d:"M5 11.25h14v1.5H5z"})});var y=a(500),C=a.n(y);const S=o=>{const{id:n,label:a,hideLabelFromVision:e=!1,help:t,className:i,options:s=[],value:r=[],onChange:c,pills:m=!1,fluid:d=!1,isSmall:b=!1}=o,f=(0,l.useInstanceId)(s,"wsd-anfb-button-group",n);return(0,h.jsx)(u.BaseControl,{id:f,className:C()("wsd-anfb__button-group",{"wsd-anfb__button-group--fluid":d,"wsd-anfb__button-group--pills":m},i),label:a,help:t,hideLabelFromVision:e,__nextHasNoMarginBottom:!0,children:(0,h.jsx)(u.ButtonGroup,{children:s.map((({label:o,value:n})=>{const a=r.includes(n);return(0,h.jsx)(u.Button,{isSmall:b,variant:a?"primary":"secondary",children:o,...c&&{onClick:()=>{c(a?r.filter((o=>o!==n)):r.concat(n))}}},n)}))})})};S.Radio=({className:o,value:n,onChange:a,...e})=>(0,h.jsx)(S,{className:C()("wsd-anfb__button-group-radio",o),value:n?[n]:[],...a&&{onChange:o=>{a(o.length>0?o[o.length-1]:"")}},...e});const B=S,F=[{label:"0",value:0},{label:`500${(0,r._x)("ms","Milliseconds","animations-for-blocks")}`,value:500},{label:`1${(0,r._x)("s","Seconds","animations-for-blocks")}`,value:1e3},{label:`1.5${(0,r._x)("s","Seconds","animations-for-blocks")}`,value:1500},{label:`2${(0,r._x)("s","Seconds","animations-for-blocks")}`,value:2e3},{label:`2.5${(0,r._x)("s","Seconds","animations-for-blocks")}`,value:2500},{label:`3${(0,r._x)("s","Seconds","animations-for-blocks")}`,value:3e3}],A=(o=0)=>`${o}${(0,r._x)("ms","Milliseconds","animations-for-blocks")}`,P=({label:o,help:n,max:a=3e3,value:e,onChange:t})=>(0,h.jsx)(u.RangeControl,{className:"wsd-anfb__range-control",label:o,help:n,value:e,onChange:t,min:0,step:50,max:a,withInputField:!1,marks:F,renderTooltipContent:A,__nextHasNoMarginBottom:!0}),M=[{label:(0,r.__)("Fade","animations-for-blocks"),value:"fade"},{label:(0,r.__)("Flip","animations-for-blocks"),value:"flip"},{label:(0,r.__)("Slide","animations-for-blocks"),value:"slide"},{label:(0,r.__)("Zoom","animations-for-blocks"),value:"zoom"},{label:(0,r.__)("Scale","animations-for-blocks"),value:"scale"}],E=[{label:(0,r.__)("Inherit","animations-for-blocks"),value:"inherit"}],I=[{label:(0,r.__)("Default","animations-for-blocks"),value:"default"}],N=[...E,...I].map((({value:o})=>o)),O={fade:[{label:(0,r.__)("Fade in","animations-for-blocks"),value:"fade"},{label:(0,r.__)("Fade up","animations-for-blocks"),value:"up"},{label:(0,r.__)("Fade down","animations-for-blocks"),value:"down"},{label:(0,r.__)("Fade left","animations-for-blocks"),value:"left"},{label:(0,r.__)("Fade right","animations-for-blocks"),value:"right"},{label:(0,r.__)("Fade up left","animations-for-blocks"),value:"up-left"},{label:(0,r.__)("Fade up right","animations-for-blocks"),value:"up-right"},{label:(0,r.__)("Fade down left","animations-for-blocks"),value:"down-left"},{label:(0,r.__)("Fade down right","animations-for-blocks"),value:"down-right"}],flip:[{label:(0,r.__)("Flip up","animations-for-blocks"),value:"up"},{label:(0,r.__)("Flip down","animations-for-blocks"),value:"down"},{label:(0,r.__)("Flip left","animations-for-blocks"),value:"left"},{label:(0,r.__)("Flip right","animations-for-blocks"),value:"right"}],slide:[{label:(0,r.__)("Slide up","animations-for-blocks"),value:"up"},{label:(0,r.__)("Slide down","animations-for-blocks"),value:"down"},{label:(0,r.__)("Slide left","animations-for-blocks"),value:"left"},{label:(0,r.__)("Slide right","animations-for-blocks"),value:"right"}],zoom:[{label:(0,r.__)("Zoom in","animations-for-blocks"),value:"in"},{label:(0,r.__)("Zoom in up","animations-for-blocks"),value:"in-up"},{label:(0,r.__)("Zoom in down","animations-for-blocks"),value:"in-down"},{label:(0,r.__)("Zoom in left","animations-for-blocks"),value:"in-left"},{label:(0,r.__)("Zoom in right","animations-for-blocks"),value:"in-right"},{label:(0,r.__)("Zoom out","animations-for-blocks"),value:"out"},{label:(0,r.__)("Zoom out up","animations-for-blocks"),value:"out-up"},{label:(0,r.__)("Zoom out down","animations-for-blocks"),value:"out-down"},{label:(0,r.__)("Zoom out left","animations-for-blocks"),value:"out-left"},{label:(0,r.__)("Zoom out right","animations-for-blocks"),value:"out-right"}],scale:[{label:(0,r.__)("Scale in","animations-for-blocks"),value:"in"},{label:(0,r.__)("Scale in X","animations-for-blocks"),value:"in-x"},{label:(0,r.__)("Scale in Y","animations-for-blocks"),value:"in-y"},{label:(0,r.__)("Scale out","animations-for-blocks"),value:"out"},{label:(0,r.__)("Scale out X","animations-for-blocks"),value:"out-x"},{label:(0,r.__)("Scale out Y","animations-for-blocks"),value:"out-y"}]},R=[{label:(0,r.__)("ease","animations-for-blocks"),value:"ease"},{label:(0,r.__)("ease-in","animations-for-blocks"),value:"ease-in"},{label:(0,r.__)("ease-out","animations-for-blocks"),value:"ease-out"},{label:(0,r.__)("ease-in-out","animations-for-blocks"),value:"ease-in-out"},{label:(0,r.__)("ease-in-back","animations-for-blocks"),value:"ease-in-back"},{label:(0,r.__)("ease-out-back","animations-for-blocks"),value:"ease-out-back"},{label:(0,r.__)("ease-in-out-back","animations-for-blocks"),value:"ease-in-out-back"},{label:(0,r.__)("ease-in-sine","animations-for-blocks"),value:"ease-in-sine"},{label:(0,r.__)("ease-out-sine","animations-for-blocks"),value:"ease-out-sine"},{label:(0,r.__)("ease-in-out-sine","animations-for-blocks"),value:"ease-in-out-sine"},{label:(0,r.__)("ease-in-quad","animations-for-blocks"),value:"ease-in-quad"},{label:(0,r.__)("ease-out-quad","animations-for-blocks"),value:"ease-out-quad"},{label:(0,r.__)("ease-in-out-quad","animations-for-blocks"),value:"ease-in-out-quad"},{label:(0,r.__)("ease-in-cubic","animations-for-blocks"),value:"ease-in-cubic"},{label:(0,r.__)("ease-out-cubic","animations-for-blocks"),value:"ease-out-cubic"},{label:(0,r.__)("ease-in-out-cubic","animations-for-blocks"),value:"ease-in-out-cubic"},{label:(0,r.__)("ease-in-quart","animations-for-blocks"),value:"ease-in-quart"},{label:(0,r.__)("ease-out-quart","animations-for-blocks"),value:"ease-out-quart"},{label:(0,r.__)("ease-in-out-quart","animations-for-blocks"),value:"ease-in-out-quart"},{label:(0,r.__)("linear","animations-for-blocks"),value:"linear"}],z=[{label:(0,r.__)("top-bottom","animations-for-blocks"),value:"top-bottom"},{label:(0,r.__)("center-bottom","animations-for-blocks"),value:"center-bottom"},{label:(0,r.__)("bottom-bottom","animations-for-blocks"),value:"bottom-bottom"},{label:(0,r.__)("top-center","animations-for-blocks"),value:"top-center"},{label:(0,r.__)("center-center","animations-for-blocks"),value:"center-center"},{label:(0,r.__)("bottom-center","animations-for-blocks"),value:"bottom-center"},{label:(0,r.__)("top-top","animations-for-blocks"),value:"top-top"},{label:(0,r.__)("bottom-top","animations-for-blocks"),value:"bottom-top"},{label:(0,r.__)("center-top","animations-for-blocks"),value:"center-top"}],T=[{value:"px",label:"web"===c.Platform.OS?"px":(0,r.__)("Pixels (px)","animations-for-blocks"),a11yLabel:(0,r.__)("Pixels (px)","animations-for-blocks"),step:1}],V=({label:o,help:n,allowInherit:a=!1,allowDefault:e=!1,required:t=!1,value:i,onChange:s})=>{const[l,m]=(0,c.useState)(!1),{animation:d,variation:b,delay:f=0,duration:_=400,once:p=!1,mirror:k=!1,easing:v=R[0].value,anchorPlacement:g=z[0].value,offset:w=120}=i,j=!(!d||"none"===d),y=o=>{const n={...i,...o};s(n)};return(0,h.jsx)(u.BaseControl,{className:"wsd-anfb__animation-control",label:o,help:n,__nextHasNoMarginBottom:!0,children:(0,h.jsxs)(u.__experimentalVStack,{spacing:4,children:[(0,h.jsx)(B.Radio,{pills:!0,label:(0,r.__)("Select animation","animations-for-blocks"),hideLabelFromVision:!0,options:M.concat([...a?E:[],...e?I:[]]),value:d,onChange:o=>{const n=!(!o||"none"===o);if(t&&!n)return;const a=n&&o in O?O[o].map((o=>o.value)):[""],e=n?b&&a.includes(b)?b:a[0]:b;y({animation:o,variation:e})}}),j&&!N.includes(d)&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(B.Radio,{isSmall:!0,pills:!0,label:(0,r.__)("Animation variation","animations-for-blocks"),hideLabelFromVision:!0,options:O[d],value:b||O[d][0].value,onChange:o=>{t&&!o||y({variation:o})}}),(0,h.jsx)(P,{label:(0,r.__)("Duration","animations-for-blocks"),value:_,onChange:(o=400)=>y({duration:o})}),(0,h.jsx)(P,{label:(0,r.__)("Delay","animations-for-blocks"),value:f,onChange:(o=0)=>y({delay:o})}),(0,h.jsx)(u.Button,{variant:"secondary",size:"small",className:C()("wsd-anfb__button",{"wsd-anfb__button-active":l}),onClick:()=>m(!l),children:(0,h.jsxs)(u.__experimentalHStack,{alignment:"center",justify:"center",children:[(0,h.jsx)(u.Icon,{icon:x,size:16}),(0,h.jsx)("span",{children:(0,r.__)("Advanced settings","animations-for-blocks")})]})}),l&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(u.ToggleControl,{label:(0,r.__)("Once","animations-for-blocks"),help:(0,r.__)("Animate only once, when scrolling down for the first time.","animations-for-blocks"),checked:p,onChange:()=>y({once:!p,mirror:!p&&k?!k:k}),__nextHasNoMarginBottom:!0}),(0,h.jsx)(u.ToggleControl,{label:(0,r.__)("Mirror","animations-for-blocks"),help:(0,r.__)("Animate out after scrolling past the element and in when scrolling up again.","animations-for-blocks"),checked:k,onChange:()=>y({mirror:!k,once:!k&&p?!p:p}),__nextHasNoMarginBottom:!0}),(0,h.jsx)(B.Radio,{isSmall:!0,pills:!0,label:(0,r.__)("Easing","animations-for-blocks"),help:(0,r.__)("Transition timing function.","animations-for-blocks"),options:R,value:v,onChange:o=>{t&&!o||v!==o&&y({easing:o})}}),(0,h.jsx)(B.Radio,{isSmall:!0,pills:!0,label:(0,r.__)("Anchor placement","animations-for-blocks"),help:(0,r.__)("Defines which position of the element regarding to window should trigger the animation.","animations-for-blocks"),options:z,value:g,onChange:o=>{t&&!o||g!==o&&y({anchorPlacement:o})}}),(0,h.jsx)(u.__experimentalUnitControl,{label:(0,r.__)("Offset","animations-for-blocks"),help:(0,r.__)("Offset from the original trigger point.","animations-for-blocks"),type:"number",value:`${w}px`,isDragEnabled:!1,isUnitSelectTabbable:!1,units:T,onChange:(o="120")=>{const n=parseInt(o.replace("px",""));y({offset:isNaN(n)?120:n})}})]})]})]})})},q=({onRequestClose:o})=>(0,h.jsx)(u.Modal,{className:"wsd-anfb__help",title:(0,r.__)("Animations for Blocks help","animations-for-blocks"),onRequestClose:o,children:(0,h.jsxs)("div",{className:"wsd-anfb__help__content",children:[(0,h.jsx)("h3",{children:(0,r.__)("Options","animations-for-blocks")}),(0,h.jsx)("h4",{children:(0,r.__)("Animation","animations-for-blocks")}),(0,h.jsx)("p",{children:(0,r.__)("Allows to select the type of animation you wish to use: Fade, Flip, Slide or Zoom. Set to None if you no longer wish to animate that block.","animations-for-blocks")}),(0,h.jsx)("h4",{children:(0,r.__)("Animation variation","animations-for-blocks")}),(0,h.jsx)("p",{children:(0,r.__)("Allows to switch between the different variations of the selected animation, such as Fade in, Fade down, Slide left, Slide right, Zoom in, Zoom out, Zoom out left, etc.","animations-for-blocks")}),(0,h.jsx)("h4",{children:(0,r.__)("Animation delay","animations-for-blocks")}),(0,h.jsx)("p",{children:(0,r.__)("Time in milliseconds to delay the animation (0 - 3000ms). Increasing this value will delay the appearance of the animated element.","animations-for-blocks")}),(0,h.jsx)("h4",{children:(0,r.__)("Animation duration","animations-for-blocks")}),(0,h.jsx)("p",{children:(0,r.__)("Time in milliseconds that the animation takes to complete (0 - 3000ms). Increasing this value will make the animation play longer.","animations-for-blocks")}),(0,h.jsx)("h4",{children:(0,r.__)("Once","animations-for-blocks")}),(0,h.jsx)("p",{children:(0,r.__)("When enabled, animation will only happen once, when scrolling down the page for the first time. When user scrolls up again and then down, then the block will no longer animate.","animations-for-blocks")}),(0,h.jsx)("h4",{children:(0,r.__)("Mirror","animations-for-blocks")}),(0,h.jsx)("p",{children:(0,r.__)("When enabled, elements will animate out once the user has scrolled past them and will animate in when the user scrolls up again.","animations-for-blocks")}),(0,h.jsx)("h4",{children:(0,r.__)("Easing","animations-for-blocks")}),(0,h.jsx)("p",{children:(0,r.__)("Allows to change between various CSS transition timing functions for the animation making it unfold differently.","animations-for-blocks")}),(0,h.jsx)("h4",{children:(0,r.__)("Anchor placement","animations-for-blocks")}),(0,h.jsx)("p",{children:(0,r.__)("Allows to control what part of the animated element should trigger the animation when it becomes visible in the viewport.","animations-for-blocks")}),(0,h.jsx)("h4",{children:(0,r.__)("Offset","animations-for-blocks")}),(0,h.jsx)("p",{children:(0,r.__)("Controls the offset (in pixels) from the original trigger point at which the animation should trigger in the viewport.","animations-for-blocks")}),(0,h.jsx)("h3",{children:(0,r.__)("Broken block","animations-for-blocks")}),(0,h.jsx)("p",{children:(0,r.__)('If you enabled animation and the block broke it means it is not supported. Feel free to report it. To restore the block in working condition try "Undo", if possible "Attempt Block Recovery", or change to "Code editor" (Ctrl + Shift + Alt + M) and remove the animation attributes (eg: \'"animationsForBlocks":{"animation":"fade"}\') from the broken block.',"animations-for-blocks")})]})}),H=window.wp.isShallowEqual;var L=a.n(H);const $=window.wp.coreData;window.anfbData||(window.anfbData={unsupportedBlocks:[],settings:J});const D=window.anfbData.unsupportedBlocks,Z=window.anfbData.settings,G={animation:"scale",variation:"in-x",delay:0,duration:800,once:!0,mirror:!1,easing:"ease-out-cubic",offset:120,anchorPlacement:"top-bottom"},J={animateInEditor:!0,lazyloadAssets:!0,lenis:"off",location:"default",defaultAnimation:G},W=()=>{const[,,o=Z]=(0,$.useEntityProp)("root","site","animations-for-blocks");return o},U=[{label:(0,r.__)("Never","animations-for-blocks"),value:"off"},{label:(0,r.__)("When the current page contains animations","animations-for-blocks"),value:"animate"},{label:(0,r.__)("Always","animations-for-blocks"),value:"on"}],X=[{label:(0,r.__)("Default","animations-for-blocks"),value:"default"},{label:(0,r.__)("Styles","animations-for-blocks"),value:"styles"},{label:(0,r.__)("Advanced","animations-for-blocks"),value:"advanced"}],Y=({onRequestClose:o})=>{const[n,a]=(()=>{const[o=Z,n]=(0,$.useEntityProp)("root","site","animations-for-blocks");return[o,n]})(),{animateInEditor:e,lazyloadAssets:t,lenis:i="off",location:s="default",defaultAnimation:l=G}=n;return(0,h.jsx)(u.Modal,{className:"wsd-anfb__settings",title:(0,r.__)("Animations for Blocks settings","animations-for-blocks"),onRequestClose:o,children:(0,h.jsxs)(u.__experimentalVStack,{className:"wsd-anfb__settings__content",spacing:8,children:[(0,h.jsx)(u.ToggleControl,{label:(0,r.__)("Automatic animation preview","animations-for-blocks"),help:(0,r.__)("Play block animations in the editor automatically.","animations-for-blocks"),checked:e,onChange:()=>a({...n,animateInEditor:!e}),__nextHasNoMarginBottom:!0}),(0,h.jsx)(u.ToggleControl,{label:(0,r.__)("Lazyload assets","animations-for-blocks"),help:(0,r.__)("Load assets only when a block with an animation is present on the current page.","animations-for-blocks"),checked:t,onChange:()=>a({...n,lazyloadAssets:!t}),__nextHasNoMarginBottom:!0}),(0,h.jsx)(u.RadioControl,{label:(0,r.__)("Load Lenis","animations-for-blocks"),help:(0,r.__)("Lenis is a smooth scroll library.","animations-for-blocks"),options:U,selected:i,onChange:o=>a({...n,lenis:o})}),(0,h.jsx)(B.Radio,{label:(0,r.__)("Inspector controls location","animations-for-blocks"),options:X,value:s,onChange:o=>a({...n,location:o||"default"})}),(0,h.jsx)(V,{label:(0,r.__)("Default animation","animations-for-blocks"),help:(0,r.__)('Animation that is used when the chosen animation is "Default".',"animations-for-blocks"),value:l,onChange:o=>a({...n,defaultAnimation:o}),required:!0}),(0,h.jsx)(u.Button,{className:"wsd-anfb__settings__reset-button",size:"small",variant:"secondary",children:(0,r.__)("Reset default animation to default","animations-for-blocks"),onClick:()=>a({...n,defaultAnimation:G}),disabled:L()(G,l)})]})})},K=({children:o})=>{const{location:n="default"}=W();return"advanced"===n?(0,h.jsx)(m.InspectorAdvancedControls,{children:o}):(0,h.jsx)(m.InspectorControls,{group:n,children:o})},Q=(0,h.jsx)(u.Icon,{icon:(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",width:20,height:20,fill:"currentColor",children:(0,h.jsx)("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})})})}),oo="anfb:animate",no=new CustomEvent(oo),ao="anfb:",eo="wsd-anfb-paste",to=({clientId:o,attributes:n,setAttributes:a})=>{const{animationsForBlocks:e={},isAnimationProvider:t=!1}=n,{animation:i}=e,s=!(!i||"none"===i),[_,y]=(0,c.useState)(!1),[C,S]=(0,c.useState)(!1),[B,F]=(0,c.useState)(!1),A=(0,c.useRef)(null),{createSuccessNotice:P,createErrorNotice:E}=(0,d.useDispatch)(b.store),I=(0,l.useCopyToClipboard)((()=>`${ao}${JSON.stringify(e)}`),(()=>P((0,r.__)("Copied animation settings to clipboard.","animations-for-blocks"),{type:"snackbar"})));(0,c.useEffect)((()=>{A.current=new CustomEvent(`${oo}:${o}`)}),[o]),(0,c.useEffect)((()=>{B&&document.getElementById(eo)?.focus()}),[B]);const N=o=>{const n=()=>E((0,r.__)("Invalid animation.","animations-for-blocks"),{type:"snackbar"});if(0!==o.indexOf(ao))return void n();let t={};try{t=JSON.parse(o.replace(ao,""))}catch(o){return void n()}const{animation:i}=t;if(!i)return void n();const s=M.find((({value:o})=>o===i));var l;s?(l=t,a({animationsForBlocks:{...e,...l}}),P((0,r.sprintf)((0,r.__)("Applied animation: %s.","animations-for-blocks"),s.label),{type:"snackbar"})):n()};return(0,h.jsxs)(K,{children:[(0,h.jsxs)(u.Panel,{className:"wsd-anfb",children:[(0,h.jsx)(u.PanelHeader,{children:(0,h.jsxs)(u.__experimentalHStack,{alignment:"center",justify:"space-between",children:[(0,h.jsx)("h2",{style:{margin:0},children:(0,r.__)("Animation","animations-for-blocks")}),(0,h.jsx)(u.DropdownMenu,{icon:p,label:(0,r.__)("More actions","animations-for-blocks"),toggleProps:{size:"small"},children:({onClose:o})=>(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(u.MenuGroup,{className:"wsd-anfb__menu-group",children:[(0,h.jsx)(u.MenuItem,{icon:Q,children:(0,r.__)("Animate block","animations-for-blocks"),disabled:!s||t,onClick:()=>{A.current&&document.dispatchEvent(A.current),o()}}),(0,h.jsx)(u.MenuItem,{icon:k,children:(0,r.__)("Animate all blocks","animations-for-blocks"),onClick:()=>{document.dispatchEvent(no),o()}}),(0,h.jsx)(u.MenuItem,{icon:v,children:(0,r.__)("Copy animation","animations-for-blocks"),disabled:!s,ref:I,onClick:o}),(0,h.jsxs)(u.MenuItem,{icon:g,onClick:async()=>{window.navigator.clipboard?(N(await window.navigator.clipboard.readText()),o()):F(!0)},children:[B&&(0,h.jsx)(m.RichText,{id:eo,tagName:"span",placeholder:(0,r.sprintf)((0,r._x)("Press %s…","Keyboard shortcut","animations-for-blocks"),f.displayShortcut.primary("v")),value:"",onChange:n=>{N(n),F(!1),o()}}),!B&&(0,r.__)("Paste animation","animations-for-blocks")]}),(0,h.jsx)(u.MenuItem,{icon:w,children:(0,r.__)("Help","animations-for-blocks"),onClick:()=>{y(!0),o()}}),(0,h.jsx)(u.MenuItem,{icon:x,children:(0,r.__)("Settings","animations-for-blocks"),onClick:()=>{S(!0),o()}})]}),Object.keys(e).length>0&&(0,h.jsx)(u.MenuGroup,{children:(0,h.jsx)(u.MenuItem,{icon:j,children:(0,r.__)("Reset animation","animations-for-blocks"),onClick:()=>{a({animationsForBlocks:void 0}),o()}})})]})})]})}),(0,h.jsx)(u.PanelBody,{children:(0,h.jsx)(V,{allowInherit:!t,allowDefault:!0,value:e,onChange:o=>a({animationsForBlocks:o})})})]}),_&&(0,h.jsx)(q,{onRequestClose:()=>y(!1)}),C&&(0,h.jsx)(Y,{onRequestClose:()=>S(!1)})]})},io=(o={},n="save")=>{let a={};if(!o)return a;const{animation:e,variation:t,delay:i,duration:s,once:l,mirror:r,easing:c,offset:m,anchorPlacement:u}=o;return e&&"none"!==e?("save"===n&&N.includes(e)||(a["data-aos"]=e===t?e:`${e}-${t}`,i&&0!==i&&(a["data-aos-delay"]=i.toString()),s&&400!==s&&(a["data-aos-duration"]=s.toString()),c&&"ease"!==c&&(a["data-aos-easing"]=c),"edit"===n||(l&&(a["data-aos-once"]="true"),r&&(a["data-aos-mirror"]="true"),m&&120!==m&&(a["data-aos-offset"]=m.toString()),u&&"top-bottom"!==u&&(a["data-aos-anchor-placement"]=u))),a):a},so=o=>{const{BlockListBlock:n,...a}=o,{clientId:e,attributes:t,wrapperProps:i={}}=a,{animationsForBlocks:l={},isAnimationProvider:r=!1}=t,u=((o,n={},a=!1)=>{const{animation:e=""}=n,t=(0,d.useSelect)((n=>{if(!a)return!1;const t=()=>{const o=n($.store).getEditedEntityRecord("root","site",void 0),{"animations-for-blocks":a={}}=o||{},{defaultAnimation:e=G}=a;return e};if("default"===e)return t();if("inherit"===e){const a=o=>{for(const a of o){const o=n(m.store).getBlock(a);if(o)return o}return!1},e=a(n(m.store).getBlockParentsByBlockName(o,"anfb/animation-container",!0));if(!e)return!1;const i=n(s.store).getBlockType(e.name);if(!i)return!1;if(0===Object.keys(i.providesContext).length)return!1;const l=Object.fromEntries(Object.entries(i.providesContext).map((([o,n])=>[o,e.attributes[n]]))),{animationsForBlocksAnimation:r={}}=l;return!(!r?.animation||"inherit"===r.animation)&&("default"===r.animation?t():r)}return!1}),[o,e,a]);if(!a)return!1;switch(e){case"none":return!1;case"default":return t||G;case"inherit":return t}return n})(e,l,!r),{delay:b=0,duration:f=400}=u||{},{animateInEditor:_}=W(),p=!1!==u,[k,v]=(0,c.useState)(!1),[g,w]=(0,c.useState)(!_),x=(0,c.useRef)(b+f),j=(0,c.useRef)([]);(0,c.useEffect)((()=>{x.current=b+f}),[b,f]);const y=(0,c.useCallback)((()=>{j.current.forEach(clearTimeout),v(!1),w(!0),j.current=[setTimeout((()=>w(!1)),50)]}),[e]);return(0,c.useEffect)((()=>{const{animation:o}=u;o&&"none"!==o&&_&&y()}),[u,y,_]),(0,c.useEffect)((()=>{g||(j.current.forEach(clearTimeout),j.current=[setTimeout((()=>v(!0)),50)])}),[g]),(0,c.useEffect)((()=>{k&&j.current.push(setTimeout((()=>{v(!1),w(!0)}),x.current))}),[k]),(0,c.useEffect)((()=>{if(p)return document.addEventListener(`${oo}:${e}`,y),document.addEventListener(oo,y),()=>{j.current.forEach(clearTimeout),document.removeEventListener(`${oo}:${e}`,y),document.removeEventListener(oo,y)}}),[p,e,y]),(0,h.jsx)(n,{...a,wrapperProps:{...i,...p&&{...io(u,"edit"),className:C()(i.className,{"aos-init":!0,"aos-animate":k||g,"wsd-anfb-is-animating":k}),"data-anfb-init":!0,...(k||g)&&{"data-anfb-animate":!0},...k&&{"data-anfb-is-animating":!0}}}})},lo=(0,i.applyFilters)("anfb.defaultEnabled",!0),ro=o=>{const n=o.name||o;return!D.includes(n)&&(0,s.hasBlockSupport)(o,"animationsForBlocks",lo)},co={animationsForBlocks:{type:"object"}},mo=(0,l.createHigherOrderComponent)((o=>n=>ro(n.name)?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(o,{...n}),(0,h.jsx)(to,{...n})]}):(0,h.jsx)(o,{...n})),"withAnimationsForBlocksInspectorControls"),uo=(0,l.createHigherOrderComponent)((o=>n=>ro(n.name)?(0,h.jsx)(so,{...n,BlockListBlock:o}):(0,h.jsx)(o,{...n})),"withAnimatedBlockListBlock"),bo=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"anfb/animation-container","title":"Animation container","description":"A container that can be animated or provide an animation to child blocks.","keywords":["group","wrapper"],"category":"design","icon":"media-interactive","textdomain":"animations-for-blocks","supports":{"anchor":true,"animationsForBlocks":true},"attributes":{"isAnimationProvider":{"type":"boolean","default":false},"animationStagger":{"type":"number","default":0}},"providesContext":{"animationsForBlocksProvider":"isAnimationProvider","animationsForBlocksAnimation":"animationsForBlocks","animationsForBlocksStagger":"animationStagger"},"usesContext":["animationsForBlocksProvider","animationsForBlocksAnimation","animationsForBlocksStagger"]}'),fo={edit:o=>{const{attributes:n,setAttributes:a}=o,{isAnimationProvider:e=!1,animationStagger:t=0,animationsForBlocks:i={}}=n,{animation:s=""}=i,l=(0,m.useBlockProps)(),c=(0,m.useInnerBlocksProps)(l);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(m.InspectorControls,{children:(0,h.jsxs)(u.PanelBody,{children:[(0,h.jsx)(u.ToggleControl,{label:(0,r.__)("Is animation provider","animations-for-blocks"),help:(0,r.__)('Instead of animating this block, provide the current animation to all child blocks that use the "Inherit" animation.',"animations-for-blocks"),checked:e,onChange:()=>a({isAnimationProvider:!e,...!e&&["inherit","default"].includes(s)&&{animationsForBlocks:{...i,animation:""}}}),__nextHasNoMarginBottom:!0}),e&&(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(P,{label:(0,r.__)("Stagger","animations-for-blocks"),help:(0,r.__)("Delay subsequent animations incrementally by this amount.","animations-for-blocks"),value:t,max:1e3,onChange:(o=0)=>a({animationStagger:o})})})]})}),(0,h.jsx)("div",{...c})]})},save:()=>{const o=m.useBlockProps.save(),n=m.useInnerBlocksProps.save(o);return(0,h.jsx)("div",{...n})},__experimentalLabel:(o,{context:n})=>{const a=o?.metadata?.name;if("list-view"===n&&a)return a;const{isAnimationProvider:e=!1}=o;return e?(0,r.__)("Animation provider","animations-for-blocks"):void 0}};(0,i.addFilter)("blocks.registerBlockType","wsd-anfb/attributes",(function(o){return ro(o)&&(o.attributes=Object.assign(o.attributes||{},co)),o})),(0,i.addFilter)("editor.BlockEdit","wsd-anfb/inspector-controls",mo),(0,i.addFilter)("blocks.getSaveContent.extraProps","wsd-anfb/animation-props",((o,n,a)=>{if(ro(n)){const{animationsForBlocks:n={},isAnimationProvider:e=!1}=a;if(e)return e;const t=io(n);t["data-aos"]&&(o={...o,...t})}return o})),(0,i.addFilter)("editor.BlockListBlock","wsd-anfb/blocklistblock-animation",uo),t()((()=>{(0,s.registerBlockType)(bo,fo)}))}},a={};function e(o){var t=a[o];if(void 0!==t)return t.exports;var i=a[o]={exports:{}};return n[o](i,i.exports,e),i.exports}e.m=n,o=[],e.O=(n,a,t,i)=>{if(!a){var s=1/0;for(m=0;m<o.length;m++){for(var[a,t,i]=o[m],l=!0,r=0;r<a.length;r++)(!1&i||s>=i)&&Object.keys(e.O).every((o=>e.O[o](a[r])))?a.splice(r--,1):(l=!1,i<s&&(s=i));if(l){o.splice(m--,1);var c=t();void 0!==c&&(n=c)}}return n}i=i||0;for(var m=o.length;m>0&&o[m-1][2]>i;m--)o[m]=o[m-1];o[m]=[a,t,i]},e.n=o=>{var n=o&&o.__esModule?()=>o.default:()=>o;return e.d(n,{a:n}),n},e.d=(o,n)=>{for(var a in n)e.o(n,a)&&!e.o(o,a)&&Object.defineProperty(o,a,{enumerable:!0,get:n[a]})},e.o=(o,n)=>Object.prototype.hasOwnProperty.call(o,n),(()=>{var o={57:0,350:0};e.O.j=n=>0===o[n];var n=(n,a)=>{var t,i,[s,l,r]=a,c=0;if(s.some((n=>0!==o[n]))){for(t in l)e.o(l,t)&&(e.m[t]=l[t]);if(r)var m=r(e)}for(n&&n(a);c<s.length;c++)i=s[c],e.o(o,i)&&o[i]&&o[i][0](),o[i]=0;return e.O(m)},a=globalThis.webpackChunkanimations_for_blocks=globalThis.webpackChunkanimations_for_blocks||[];a.forEach(n.bind(null,0)),a.push=n.bind(null,a.push.bind(a))})();var t=e.O(void 0,[350],(()=>e(955)));t=e.O(t)})();